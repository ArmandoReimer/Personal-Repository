<html>

<head>
<title>Image pseudo object</title>
<style>
<!--
span.mcode
{ color: #ff0000;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
}
span.mcode2
{ color: #4040ff;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
}
span.mcode3
{ color: #4040ff;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
  font-size: 80%;
}
h3 { color: #009988; margin-bottom: 0 }
span.fx
{ color: #4040ff;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
}
span.fx2
{ color: #4040ff; font-size: 80%;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
}
-->
</style>

</head>
<body>

<img src="../images/plt.png" width="300" height="160" align="right"></td>
<br><h1>The image pseudo object (Intensity map)</h1> <br clear="left"><br><br>
        Before getting much farther in this section, you should try running the
        <span class="mcode">pltmap.m</span> <a href="Programming%20examples.htm">example program</a>
        so that you have a better context for the information that follows.<br><br>
        The intensity map pseudo object (sometimes called the <span class="mcode">image</span> pseudo
        object) provides cursoring methods appropriate for this object type and also includes several
        optional components including:
        <ul><li>A color bar which serves as a legend for the z-axis values as well as providing a method
                of changing the colormap used to represent the z data.
            <li>A slider (labeled <b>'edge'</b>) that allows you to control how wide a range around a midpoint
                is used when determining the color used to represent each array element.
            <li>A slider (labeled '<b>'mid''</b>) that allows you to control the center value of the range of values
                used to determine the color for each array element.
            <li>A checkbox that allows you to control the visibility of the axis gridlines.
            <li>A <b>'view all'</b> button, that when clicked on resets the axis limits associated with the image object
                so that the entire image data set is visible. A secondary feature of this button is activated by
                right-clicking on it instead, however the right-click action is different depending on whether the Zout
                (zoom out) tag exists in the associated menu box. If this tag does not exist, then each time you
                right-click on the view all button the axis limits are zoomed in to expose only the middle 36% of the
                visible area. (This represents a 60% expansion of both the x and y axes.). However if the Zout tag exists
                then the right-click action described above is not needed since it would duplicate the right-click action
                of the Zout tag. So in that case, right-clicking on the view all button saves the current image axis limits
                into an application variable of the axis called <span class="mcode">ilim</span>.
                From that point on (or until you right-click the view all button again) the left click action of the
                view all button will set the axis limits according to the data saved in the <span class="mcode">ilim</span>
                application data. This means that the right click action essentially redefines what we mean by
                "all the data", when we select "view all".
        </ul>
        <h4>Initialization</h4>
        <span class="mcode">h = plt('image',axI,x,y,z,opt);</span><br>
        The image object is created in an axis and figure that must be created beforehand using the plt pseudo object.
        For example, suppose we create a figure with the command  <span class="mcode">plt(x1,y1,x2,y2,'Subplot',[40 60]);</span>
        These creates two axes, the smaller one (40% of the height) below and the larger one on top. And suppose we
        want to put the intensity map in the larger axis, then we would use
        <span class="mcode">plt('image',2,x,y,z);</span>.
        I have set <span class="mcode">axI</span> equal to 2 to indicate that the image should be inserted into the upper
        plot (using the usual rules for the ordering of the axes). You wouldn't expect it matters what is in x2,y2 since
        this trace is covered over by the image object, but in fact x2 should be set to the same array as the x vector
        specified in the image initialization. This insures that the intensity map cursors operate correctly. (The data in
        y2 on the other hand does not matter as long as it is the same length as x2).
        <br><br>
        <span class="mcode">opt</span> is an optional cell array that specifies the image object options. This cell array
        may contain any or all of the following strings in the following table. These strings are case insensitive, and
        actually all characters except the first one are ignored. So for example <span class="mcode">'view'</span>,
        <span class="mcode">'ViewAll'</span>, and <span class="mcode">'V'</span> would all serve the same purpose.
        <br><br>
        <table border="3" cellpadding="4" cellspacing="0" vspace="12" hspace="20" bordercolor="#9999ff">
        <tr> <td align="center"><span class="mcode">'cbar'</span></td>
             <td>If this string is included the color bar image is created which serves as a color key
                 (i.e. for displaying the current color map). You can click on this color bar to cycle through
                 ten different color maps as follows:<br><br><span class="mcode3"><b>
                 &nbsp; &nbsp; 0:&nbsp; jet &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5: &nbsp; colorcube<br>
                 &nbsp; &nbsp; 1:&nbsp; rainbow &nbsp; &nbsp; &nbsp; 6: &nbsp; lines<br>
                 &nbsp; &nbsp; 2:&nbsp; sometric &nbsp; &nbsp; &nbsp;7: &nbsp; hot<br>
                 &nbsp; &nbsp; 3:&nbsp; seismic &nbsp; &nbsp; &nbsp; 8: &nbsp; cool<br>
                 &nbsp; &nbsp; 4:&nbsp; gray &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9: &nbsp; winter</b></span><br><br>
                 This entry is an exception to the rule that only the first character is significant, because you
                 may also include a digit between 0 and 6 as the last character of the string. This specifies which
                 color map to appear when the image object is initialized. For example <span class="mcode">'cbar3'</span>,
                 <span class="mcode">'c3'</span> or <span class="mcode">'CbarSeismic3'</span> all
                 would initialize the color map to "seismic". If the last digit of the string is not a digit then the
                 the rainbow color map is selected as the by default.
             </td>
        </tr>
        <tr> <td align="center"><span class="mcode">'edge'</span></td>
             <td>If this string is included the "edge" slider will appear which controls the range of the zData that is
                 mapped to the selected color map.
             </td>
        </tr>
        <tr> <td align="center"><span class="mcode">'mid'</span></td>
             <td>If this string is included, the "mid" slider will appear which controls the mid point of the zData range
                 that is mapped to the selected color map. The effect of adjusting this slider, as well as the "edge" slider
                 mentioned above is described in more detail in the description of <span class="mcode">pltmap.m</span>
                 in the <a href="Programming%20examples.htm">Programming&nbsp;examples</a> section.
             </td>
        </tr>
        <tr> <td align="center"><span class="mcode">'grid'</span></td>
             <td>If this string is included, a "grid" checkbox will appear which allows you to turn the grid lines for the
                 image object on or off. This is an exception to the rule that the case is insensitive since 'Grid' and 'grid'
                 have slightly different meanings. They both create the checkbox, but the capitalized version initializes the
                 check box to 'on' (i.e. the grid lines are enabled) and the lower case version initializes the box to 'off'.
             </td>
        </tr>
        <tr> <td align="center"><span class="mcode">'view'</span></td>
             <td>If this string is included a "view all" button will appear which when left-clicked on will zoom the axis
                 so that the entire image data set is visible. As mentioned above, you may also zoom into the middle of the
                 visible region by right-clicking on this button. (The middle 60% of both the x and y axes will become visible.)
             </td>
        </tr>
        </table>
        <br>
        You may optionally include a 4 element position vector (in normalized coordinates) after any of these 5 options strings.
        If the position vector is not included, then a default position is chosen for the item. For example:<br><br>
        <span class="mcode">opt = {'Cbar' [.5 .4 .02 .24] 'Grid' 'ViewAll' [.91 .75 .04 .02]};</span>
        <br><br>
        When this option cell array is used for the image object initialization, a color bar, a grid checkbox, and a view all
        button will be created, but the edge and mid sliders will not be since they are not included in the options list.
        The color bar and view all button will be positioned at the coordinates given, whereas the grid checkbox will be
        positioned at its default location since there is no position specified for it in the options list. You may use a
        space or comma as a delimiter between option elements (i.e. row vector form as in the above), or you may use semicolons
        if you prefer (i.e. column vector form).
        <br><br>
        The call that initializes the pseudo image object returns the image handle <span class="mcode">h</span>
        which you may then use in any of the image modification commands shown below. First we have the data
        update commands which come in seven forms depending on which coordinates you want to update:
        <br><br><span class="mcode"
        >&nbsp; &nbsp; plt('image',h,'x',x);<br>
        &nbsp; &nbsp; plt('image',h,'y',y);<br>
        &nbsp; &nbsp; plt('image',h,'z',z);<br>
        &nbsp; &nbsp; plt('image',h,'xy',x,y);<br>
        &nbsp; &nbsp; plt('image',h,'xz',x,z);<br>
        &nbsp; &nbsp; plt('image',h,'yz',y,z);<br>
        &nbsp; &nbsp; plt('image',h,'xyz',x,y,z);<br></span>
        <br>
        Then we have commands which can change the values of the mid and edge sliders (only allowed if they were created by
        the image object initialization):
        <br><br><span class="mcode">
        &nbsp; &nbsp; plt('image',h,'mid',Value);<br>
        &nbsp; &nbsp; plt('image',h,'edge',Value);<br></span>
        <br>
        And finally we have commands to change the x and y limits:
        <br><br><span class="mcode">
        &nbsp; &nbsp; plt('image',h,'xlim',[xLower xUpper]);<br>
        &nbsp; &nbsp; plt('image',h,'ylim',[yLower yUpper]);<br></span>
        <br>
        For convenience you can combine any of the above image modification commands into a single command. For example
        to change the y and z data values, adjust the edge slider and the y-axis limits you would use a command such as:
        <br><br><span class="mcode">
        &nbsp; &nbsp; plt('image',h,'yz',y,z,'edge',1.5,'ylim',[0 5]);<br>

</body>

</html>