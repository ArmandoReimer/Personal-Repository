<html>

<head>
<title>Edit pseudo object</title>
<style>
<!--
span.mcode
{ color: #ff0000;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
}
span.mcode2
{ color: #4040ff;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
}
span.mcode3
{ color: #4040ff;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
  font-size: 80%;
}
h3 { color: #009988; margin-bottom: 0 }
span.fx
{ color: #4040ff;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
}
span.fx2
{ color: #4040ff; font-size: 80%;
  font-family: 'Lucida Console', 'Andale Mono', 'Courier New', monospace;
}
-->
</style>

</head>
<body>

<img src="../images/plt.png" width="300" height="160" align="right"></td>
<br><h1>The edit pseudo object</h1> <br clear="left"><br><br>
        The slider control is Matlab's most versatile ways to control a numeric parameter because it
        allows us to change a value continuously and repeatedly using several different methods
        (click & hold on an arrow, click & hold in the trough, and dragging the slider bar). The pseudo
        slider object (described later in this table) enhances this capability further by providing more movement
        options and coupling it with the labels and numeric readout normally needed with the slider.
        The only downside to the pseudo slider is that it takes up too much space to use it everywhere in a
        GUI containing many numeric controls. For this reason an edit box
        (i.e. <span class="mcode">uicontrol('Style','Edit')</span>) is often used to control a numeric parameter.
        However because the only way to change the value of an edit box is to type in a new number, it is
        difficult to use when many adjustments are needed to arrive at an optimal setting or when you want
        to develop a feel for the effect of small changes in the parameter. The <span class="mcode">edit</span>
        pseudo object was designed primarily to overcome that difficulty, although it also has the following
        additional advantages over the uicontrol edit box:
        <ul><li>A label is almost always required for a numeric parameter and is sometimes needed for string
                parameters as well. The uicontrol edit box doesn't have this label so you must add another
                uicontrol for that purpose, complicating your program and making it more difficult to reposition.
                The edit pseudo object includes an optional label so when you move the edit object its label
                automatically moves along with it.
            <li>The edit pseudo object may be positioned using figure coordinates or using the normalized or
                data coordinates of an axis. Which coordinates to use is usually obvious and depends on the
                use of the particular control. (The uicontrol edit box may only use figure coordinates.)
            <li>The edit pseudo object takes up even less space in your GUI than an uicontrol edit box
                so you can fit more controls into a given area. This often simplifies your GUI design by
                avoiding the need for additional modes to control which parameters are in view.
            <li>The edit pseudo object has the (optional) ability to honor set minimum and maximum values.
            <li>The string substitutions of the edit pseudo object's callback function often greatly simplify
                the callback routines.
        </ul>        
    There are two types of edit pseudo objects:
    <ul>
      <li><b>Type 1:</b> Two uicontrol objects are created (text style) inside the current figure.
             <br> &emsp; &emsp; &nbsp; &nbsp;
            <font size="-1"><i>(If a label is not specified, only a single uicontrol is created.)</i></font>
            <br> &emsp; &emsp; &nbsp; &nbsp;
            This type is created if the <span class="mcode">'pos'</span> property has length 4
            (<span class="mcode2">[x y width height]</span>).
      <li><b>Type 2:</b> Two text objects are created inside the current axis.
           <br> &emsp; &emsp; &nbsp; &nbsp;
             <font size="-1"><i>(If a label is not specified, only a single text object is created.)</i></font>
         <br> &emsp; &emsp; &nbsp; &nbsp;
             This type is created if the <span class="mcode">'pos'</span> property value has length 2
             (<span class="mcode2">[x y]</span>).
    </ul>
        For reference, this first table describes the edit pseudo object properties that you may set and query.
    How to use these properties will become clear later when the commands are discussed:<br><br>
        <table border="3" cellpadding="4" cellspacing="0" vspace="8" hspace="20" bordercolor="#9999ff">
        <tr>
          <td align="center"><b><font color="#4040ff">Property<br>Name</font></b></td>
          <td><b><font color="#4040ff">Property<br>Value</font></b></td>
        </tr> <tr>
          <td align="center" valign="top"> <span class="mcode">value</span></td>
          <td> <table border="3" cellpadding="8" cellspacing="0" vspace="8" hspace="8" bordercolor="#b0b0b0">
               <tr>
           <td><span class="mcode">v</span> (scalar)</td>
           <td>Sets the edit object's numerical value to <span class="mcode">v</span>. <nobr>(default = 1)</nobr></td>
           </tr><tr>
           <td><span class="mcode">[min max]</span> <nobr>(length 2 vector)</nobr></td>
           <td>Sets the edit object's allowed min/max values <nobr>(default = [-1e99, 1e99])</nobr></td>
           </tr><tr>
           <td><span class="mcode">[v min max]</span> <nobr>(length 3 vector)</nobr></td>
           <td>Sets both of the above.</td>
           </tr></table>
           Except for the length 2 argument case, the callback function is called
           if it has been provided earlier in the argument list or in a previous
               call to <span class="mcode">plt('edit')</span>.
      </td>
        </tr> <tr>
          <td align="center" valign="top"><span class="mcode">val</span></td>
          <td>Equivalent to the <span class="mcode">value</span> property above, except that the callback is never called.</td>
        </tr> <tr>
          <td align="center" valign="top"><span class="mcode">minmax</span></td>
          <td>Equivalent to the <span class="mcode">val</span> property above.
         (For clarity, use this only when the argument has length 2 (i.e. <span class="mcode">[min max]</span>).</td>
        </tr> <tr>
          <td align="center" valign="top"><span class="mcode">callbk</span></td>
          <td>A callback to be executed when the edit text object is changed.<br>
              If the callback is defined with a string, then:<br>
              Occurrences of <span class="mcode">'@VAL'</span> will be replaced with the current value.<br>
              Occurrences of <span class="mcode">'@OBJ'</span> will be replaced with the edit text handle.<br>
              Also note that if the function is defined as a string argument often consecutive single
              quote characters are required (quotes within quotes). In that case readability
              can be improved by replacing all sequences of two consecutive single quotes with
              a double quote character. For example <span class="mcode">'disp(''ABC'');'</span>
              could be written as <span class="mcode">'disp("ABC");'</span>. Note that this
              trick does not work for Matlab callbacks in general, but it does work for any
              callback defined within a <span class="mcode">plt(...)</span> function call.</td>
        </tr> <tr>
          <td align="center" valign="top"><span class="mcode">enable</span></td>
          <td>-1=invisible, 0=disabled, 1=enabled (default=1). If disabled, the text will 
              still be visible, but may not be modified.</td>
        </tr> <tr>
          <td align="center" valign="top"><span class="mcode">incr</span></td>
          <td>The increment value for a numeric edit pseudo object. (default&nbsp;=&nbsp;1)
          When you click on the right/left side of the center of the object,
              the value of the pseudo edit object is increased/decreased by &quot;incr&quot;.
              A negative value of "incr" is used to indicate that the increment factor
              is in percentage terms instead of absolute. For example, if incr&nbsp;=&nbsp;-0.1
          then clicking on the right/left side of the edit object will increase/decrease
              the edit object's value by 0.1 percent (i.e. from 1000 to 1001 or 999).
              Setting incr to zero disables the incr/decr feature which means the left
              clicking on the object will have the same effect as right-clicking. Note
              that the incr/decr feature is also disabled if the length parameter
              (below) is set to anything other than one.</td>
        </tr> <tr>
          <td align="center" valign="top"><span class="mcode">length</span></td>
          <td>The length of the vector allowed as the edit value. Usually 
              length=1 indicating the edit value must be a scalar. If length=4 (for 
              example), an allowed edit value must be a row or column vector of length 4. 
              Two special cases are length=-1 and length=0. length=-1 is used to indicate 
              that a numeric array of any length is a legal value. length=0 is used for 
              string edit objects i.e. the edit string is not interpreted as a number or 
              vector. (default&nbsp;=&nbsp;1)</td>
        </tr>  <tr>
          <td align="center" valign="top"><span class="mcode">format</span></td>
          <td>The format conversion string used to display numeric edit 
              objects (default&nbsp;=&nbsp;<span class="mcode">'%6w'</span>).
              Type "help prin" for a description of the formatting codes.</td>
    </tr>  <tr>
          <td align="center" valign="top"><span class="mcode">label</span></td>
          <td>If the argument is a string, that string will become the edit pseudo object's label.
          Usually this is sufficient, but if you want more control of the label's position or
          appearance the argument may be a cell array of the form:<br>
              <span class="mcode">{'LabelString', offset, 'Property1',Value1,'Property2',Value2, ...}</span>
          <br><br>
          Note that the label will be created with the same type as the main edit object (i.e. a uicontrol
          for type 1 and a text object for type 2). The property names in the cell array must be
          valid properties for that object type.
         <br><br>
          Note that the label will be created as a text object in the same axis that is used to display
          the popup choices. Property1, Property2, etc. must all be valid text object property names.
          The meaning of the offset parameter depends on its length as follows:
          <table border="3" cellpadding="8" cellspacing="0" vspace="8" hspace="8" bordercolor="#b0b0b0">
           <tr>
           <td align="center"><b><i><u>Offset</u></i></b></td>
           <td><b><i><u>Meaning for Type 1</u></i></b></td>
           <td><b><i><u>Meaning for Type 2</u></i></b></td></tr>
           <tr>
           <td align="center"><span class="mcode">''</span> or <span class="mcode">[]</span></td>
           <td>plt estimates the best label size & position based on the # of characters in the label.</td>
               <td>Same as for type 1.</td></tr>
           <tr>
           <td align="center"><span class="mcode">q</span></td>
           <td>The label width is set to q.<br>plt estimates the best label height & position.</td>
           <td>The label position is set to:<br>edit object position + <nobr>[real(q) imag(q)]</nobr></td></tr>
           <tr>
           <td align="center"><span class="mcode"><nobr>[q1 q2]</nobr></span></td>
           <td>The label width is set to q1.<br>
               The label position is set to:<br>edit object position + <nobr>[real(q2) imag(q2)]</nobr></td>
                   <td>The label position is set to <nobr>[q1 q2 0]</nobr></td></tr>
           <tr>
           <td align="center"><span class="mcode"><nobr>[q1 q2 q3]</nobr></span></td>
           <td>NA</td>
               <td>The label position is set to <nobr>[q1 q2 q3]</nobr></td></tr>
           <tr>
           <td align="center"><span class="mcode"><nobr>[q1 q2 q3 q4]</nobr></span></td>
           <td>The label position/size is set to <nobr>[q1 q2 q3 q4]</nobr></td>
               <td>NA</td></tr>
           </table>
           For a type 1 edit object, if the estimated width of the label based on its character length is
           too big or too small you may adjust it using the "q" parameter as described above. However an
           alternate method is to use the label itself. You can make the width bigger by padding the label
           with blanks. You can also make the width smaller by using the tilde character. For example if the
           desired label is "Abcdef", you can make it slightly smaller by specifying the label as
           "Abcde~f" or smaller still by using "Abcd~ef", or "Abc~def" etc. (Note the tilde character itself
           does not appear in the label.)
        </tr> <tr>
          <td align="center" valign="top"><span class="mcode">*****</span></td>
          <td>If a property name is given which isn't in the list above 
              then the property is applied to the main uicontrol or text object itself. (It must be a valid 
              property name for type of object being used.) The position (<span class="mcode">'pos'</span>)
          of the edit pseudo object must be set this way.
              For a type 1 edit pseudo object the foreground/background colors
          (<span class="mcode">'foregr'</span>&nbsp;/&nbsp;<span class="mcode">'backgr'</span> properties)
          are usually set this way, however if these properties are not specified the background color
          defaults to 0.8 times the figure background color and foreground color defaults to
          [1&nbsp;1&nbsp;.4] or [0&nbsp;0&nbsp;.6] (whichever provides the most contrast).
          The text color of a type 2 edit pseudo object can be
          set this way as well (<span class="mcode">'color'</span> property) with its default
          handled in the same manner the foreground color for the type 1 object.</td>
        </tr>
        </table>
    <br>
    The following commands are used to create an edit pseudo object:
    <br><br>
    <table border="3" cellpadding="4" cellspacing="0" vspace="8" hspace="20" bordercolor="#9999ff">
    <tr>
        <td><span class="mcode">H = plt('edit',<br> &nbsp;  &nbsp; 'Poperty1',Value1,
                                           <br> &nbsp;  &nbsp; 'Poperty2',Value2,...)</span>
    </td><td>The property names allowed and the interpretation of the property values are shown in the table above.
             You many use as many or as few properties as you need in whatever order you choose.
        </td></tr> <tr>
    <td><span class="mcode">H = plt('edit',<br> &nbsp;  &nbsp; [x y width height],v,
                                           <br> &nbsp;  &nbsp; 'Poperty3',Value3,...)</span>
    </td><td>Usually both the 'position' and 'value' properties are needed, so for conciseness you may omit those
             property names if the property values appear first and in this order.
             Note that <span class="mcode">v</span> in this form may also be a length 3 vector if you
             want to specify the min/max values. Property names other than these two may not be omitted.
        </td></tr> <tr>
    <td><span class="mcode">H = plt('edit',<br><nobr> &nbsp;  &nbsp; 'pos',[x y width height],</nobr>
                                           <br> &nbsp;  &nbsp; 'value',v,
                                           <br> &nbsp;  &nbsp; 'Poperty3',Value3,...)</span>
    </td><td>Assuming at least one of the 4 position values is greater than 3 (indicating pixel units are being used),
    the above command is translated into this line before execution.<br>    
        </td></tr> <tr>
    <td><span class="mcode">H = plt('edit','unit','norm',
                                           <br><nobr> &nbsp;  &nbsp; 'pos',[x y width height],</nobr>
                                           <br> &nbsp;  &nbsp; 'value',v,
                                           <br> &nbsp;  &nbsp; 'Poperty3',Value3,...)</span>
    </td><td>If all of the position values are less than 3 (indicating that normalized units are being used),
    a slightly different translation is used. (Note the addition of the units property.)<br>    
        </td></tr></table>    
        <br>The above calls create an edit pseudo object and returns the handle of the 
        main uicontrol (for type 1) or main text object (for type 2) created. (By "main" I mean the object containing
    the value, not the label). This handle (H) may be used to modify or query the edit pseudo object parameters
    using the forms below:<br><br>
    <table border="3" cellpadding="4" cellspacing="0" vspace="8" hspace="20" bordercolor="#9999ff">
        <tr>
        <td width="280"><span class="mcode">plt('edit',H,<br> &nbsp;  &nbsp; 'Poperty1',Value1,<br> &nbsp;  &nbsp; 'Poperty2',Value2,...)</span>
    </td><td>If H is a scalar, the specified property values are applied to the edit pseudo object identified by handle H.
    The property names are the same ones described in the table above.
    <br><br>
    If H is a vector then Property1 of H(k) is set to the kth row of Value1.
    If Value1 doesn't have that many rows, the last row will be used. Only one
        property is allowed for the case where H is a vector.
        </td></tr> <tr>
    <td><span class="mcode">plt('edit',H,'get','value')</span></td>
        <td>returns the numeric value of the specified edit pseudo object.
                                    For conciseness, this command may also be written without the last argument:
                                    <nobr><span class="mcode">plt('edit',H,'get')</span></nobr> or even without the last two arguments:
                                    <nobr><span class="mcode">plt('edit',H)</span></nobr>
        </td></tr> <tr>
        <td><span class="mcode">plt('edit',H,'get','minmax')</span></td><td>returns [min max] - the allowed limits for the value
        </td></tr> <tr>
        <td><span class="mcode">plt('edit',H,'get','callbk')</span></td><td>returns the string or function handle that was set via the 'callbk' parameter
        </td></tr> <tr>
        <td><span class="mcode">plt('edit',H,'get','enable')</span></td><td>returns -1/0/1 if the pseudo object is hidden/disabled/enabled
        </td></tr> <tr>
        <td><span class="mcode">plt('edit',H,'get','incr')</span></td><td>returns the value that was set via the 'incr' parameter
        </td></tr> <tr>
        <td><span class="mcode">plt('edit',H,'get','length')</span></td><td>returns the value that was set via the 'length' parameter
        </td></tr> <tr>
        <td><span class="mcode">plt('edit',H,'get','format')</span></td><td>returns the string that was set via the 'format' parameter
        </td></tr> <tr>
        <td><span class="mcode">plt('edit',H,'get','label')</span></td><td>returns the label handle
        </td></tr> <tr>
        <td><span class="mcode">plt('edit',H,'get','cell')</span></td><td>returns an 9 element cell array that is a concatenation of the
        previous 8 get commands: {val min max callback enable incr length format label}.
        Actually the word 'cell' may be replaced by any string other than one of the other 8 valid 'get' arguments.
        </td></tr>
    </table>
        <br>        
    <b><font size="4">Keyboard and mouse behavior:</font></b><br>
        Right-clicking on the edit text object always &quot;opens&quot; the object for editing. 
        What this means is that the old edit string  appears with the cursor (underscore) 
        at the end of the string indicating that it is ready to accept keys typed at the 
        keyboard. If you start typing right away, the new characters typed will be 
        appended to the end of the old string. To insert the new characters at a point 
        other than the end, simply move the cursor to the desired point using the 
        left/right arrow keys. To remove characters, press &lt;Backspace&gt; or &lt;Delete&gt; to 
        remove a character before or after the cursor. Pressing &lt;Delete&gt; when the cursor 
        is at the end of the string deletes all the characters. This special case makes 
        it easier to enter a new string that bears little resemblance to the previous 
        entry. Note that while typing, the text object is shown in a different color to 
        remind you that a new value is being entered. When you press &lt;Enter&gt;, the new 
        string is accepted and the color returns to the original. If you type an invalid 
        entry, the word &quot;error&quot; will appear. Click again on the &quot;error&quot; string to try 
        the entry again or to recover the previous entry (via &lt;Esc&gt;). A summary of the 
        special keys follow:<br><br>
    <table border="3" cellpadding="4" cellspacing="0" vspace="12" hspace="20" bordercolor="#9999ff">
        <tr>
          <td align="center">&lt;Esc&gt;</td>
          <td>The edit text object is closed for editing and the original 
              text value is restored as if the edit object was never opened for editing.</td>
        </tr> <tr>
          <td align="center">&lt;Backspace&gt;</td>
          <td>Deletes the character on the left side of the cursor.</td>
        </tr> <tr>
          <td align="center">&lt;Delete&gt;</td>
          <td>Deletes the character on the right side of the cursor. If the cursor is at the end
          of the string, all the characters are deleted leaving only the underscore cursor.</td>
        </tr> <tr>
          <td align="center">&lt;Right arrow&gt;</td>
          <td>Moves the underscore cursor one position to the right. </td>
        </tr> <tr>
          <td align="center">&lt;Left arrow&gt;</td>
          <td>Moves the underscore cursor one position to the left. </td>
        </tr> <tr>
          <td align="center">&lt;Enter&gt;</td>
          <td>Closes the edit text object, accepting the current entry (without the underscore cursor) as the new value.</td>
        </tr> <tr>
          <td align="center">&lt;Click&gt;</td>
          <td>Clicking the mouse on the edit text object while it is open 
              has the same effect as pressing &lt;Esc&gt; on the keyboard.</td>
        </tr> <tr>
          <td align="center">i</td>
          <td>When entering a scalar value, if lower case &quot;i&quot; (increment) 
              is entered as the last character, this indicates that the entered value 
              should be used as a new &quot;incr&quot; parameter for the object. In this case the 
              text object value from before the object was opened is retained.</td>
        </tr>
        </table>
        <br>Left-clicking on the edit text object also opens the object for editing 
        except for one important exception. This exception happens when the edit text
        object is a scalar (i.e. the length parameter is equal to one). In fact this is
        more the rule than the exception since that is the most commonly used
        (and default) value for the length parameter.
        <br><br>
        In this (scalar parameter) case, when you left-click on the edit text object, its 
        value is incremented or decremented by the object's &quot;incr&quot; parameter. Whether 
        the value is incremented or decremented depends on the position of the mouse 
        click. If you click to the right of the edit object's center, the value will 
        be incremented. Likewise, the value will be decremented for clicks to the left 
        of center. As an example, suppose the current edit text object has a value of 
        259, and the increment parameter is 1. Left-clicking on the 9 will change the 
        edit object's value to 260 (because the 9 is right of the center of the text 
        string). On the other hand, left-clicking on the two will decrement the value 
        by one. Remember that if the increment amount is not convenient, you can change
        the increment amount on the fly by using the "i" character as described above.
        <br><br> 
        An important property of the scalar increment/decrement feature is that the edit object
        will continue to increment as long as you hold down the mouse button. This is useful
        for many interactive controls and allows the edit objects to take the place of sliders
        (the only other handle graphic object to have this repeat property). When you hold down
        the mouse button, there will be a delay of 0.4 seconds before the auto-incrementing
        begins. After that delay, the value will be incremented once every 0.03 seconds.
        You can alter the repeat rate by setting the pseudo object's application data
        <span class="mcode">repeat</span> property. For example, if you want a slower repeat rate
        (half the speed of the default) use the command:<br><br>
        <span class="mcode">setappdata(H,'repeat',0.06);</span><br><br>where H is the handle of the
        pseudo edit object. You can also change the default repeat delay as well. For example,
        the command <span class="mcode">setappdata(H,'repeat',[0.06 0.25]);</span>
        changes the repeat rate to 0.06 seconds and the repeat delay to 0.25 seconds.
        You can also inhibit the repeat feature by setting the repeat delay to a negative number, for example:
        <span class="mcode">setappdata(H,'repeat',-1);</span>.
        <br><br>
        The easiest way to reset back to the default repeat and repeat delay values is to set the 'repeat'
        property to null (<span class="mcode">[]</span>&nbsp;or&nbsp;<span class="mcode">''</span>)
        or simply remove this property altogether, i.e. <span class="mcode">rmappdata(H,'repeat')</span>.
        <br><br>
        Whenever a number is being typed in, you may also type an expression 
        instead. For example, the following entries are all equivalent:
    <ul> <li><span class="mcode">5</span>
             <li><span class="mcode">abs(3+4i)</span>
             <li><span class="mcode">[2&nbsp;1] * [2&nbsp;1]'</span>
             <li><span class="mcode">sqrt(3*2^3-cos(pi))</span>
        </ul>
        Typing <span class="mcode">sum(get(gca,'xlim').*[0&nbsp;1])'</span>would be equivalent
    to typing in the current upper x axis limit. And to be really perverse, typing
    <span class="mcode">log(-1)/(2*pi)</span> would be equivalent to typing
    &quot;.5i&quot; which as mentioned above would change the auto increment value to one half.
        <br><br> 
        See both the <span class="mcode">afilt.m</span> and the <span class="mcode">curves.m</span>
        <a href="Programming%20examples.htm">example programs</a> for ideas on how to use the
        pseudo edit object as well as the pseudo popup objects described in the next section.
        The <span class="mcode">circles12.m</span> example also uses an edit text object for
        controlling the rotation speed of the circle plotted in the last figure window.</td>
  </tr>
  <tr><td colspan="100%"><hr></td></tr>

</body>

</html>